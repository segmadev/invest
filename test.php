<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <ul id="chatID">
        <li>
            <a href="index?p=chat&id=40" class="px-4 py-3 bg-hover-light-black d-flex align-items-start justify-content-between chat-user  w-100" id="chat_user_40" data-user-id="40">
                <div class="d-flex align-items-center">
                    <span class="position-relative">
                        <img src="https://randomuser.me/api/portraits/med/women/70.jpg" alt="user1" width="40" height="40" class="rounded-circle" />

                    </span>
                    <div class="ms-3 d-inline-block w-100">
                        <h6 class="mb-1 chat-title " data-username="James Anderson">Orogosta Maksimeyko</h6>
                        <span class="fs-3 text-truncate  text-body-color d-block">Hello me</span>
                    </div>
                </div>

            </a>
        </li>
        <li>
            <a href="index?p=chat&id=8" class="px-4 py-3 bg-hover-light-black d-flex align-items-start justify-content-between chat-user  w-100" id="chat_user_8" data-user-id="8">
                <div class="d-flex align-items-center">
                    <span class="position-relative">
                        <img src="https://proloomtrading.com/app/assets/images/profile/male.jpg" alt="user1" width="40" height="40" class="rounded-circle" />

                    </span>
                    <div class="ms-3 d-inline-block w-100">
                        <h6 class="mb-1 chat-title " data-username="James Anderson">Johnny stone</h6>
                        <span class="fs-3 text-truncate  text-body-color d-block">You: Hello </span>
                    </div>
                </div>

            </a>
        </li>
        <li>
            <a href="index?p=chat&id=2" class="px-4 py-3 bg-hover-light-black d-flex align-items-start justify-content-between chat-user  w-100" id="chat_user_2" data-user-id="2">
                <div class="d-flex align-items-center">
                    <span class="position-relative">
                        <img src="https://proloomtrading.com/app/assets/images/profile/default.jpg" alt="user1" width="40" height="40" class="rounded-circle" />

                    </span>
                    <div class="ms-3 d-inline-block w-100">
                        <h6 class="mb-1 chat-title " data-username="James Anderson">Proloomtrading 3</h6>
                        <span class="fs-3 text-truncate  text-body-color d-block">You: I love this app</span>
                    </div>
                </div>

            </a>
        </li>
        <li>
            <a href="index?p=chat&id=27" class="px-4 py-3 bg-hover-light-black d-flex align-items-start justify-content-between chat-user  w-100" id="chat_user_27" data-user-id="27">
                <div class="d-flex align-items-center">
                    <span class="position-relative">
                        <img src="https://proloomtrading.com/app/assets/images/profile/male.jpg" alt="user1" width="40" height="40" class="rounded-circle" />

                    </span>
                    <div class="ms-3 d-inline-block w-100">
                        <h6 class="mb-1 chat-title " data-username="James Anderson">Admin .</h6>
                        <span class="fs-3 text-truncate  text-body-color d-block"></span>
                    </div>
                </div>

            </a>
        </li>
        <li>
            <a href="index?p=chat&id=42" class="px-4 py-3 bg-hover-light-black d-flex align-items-start justify-content-between chat-user  w-100" id="chat_user_42" data-user-id="42">
                <div class="d-flex align-items-center">
                    <span class="position-relative">
                        <img src="https://randomuser.me/api/portraits/med/men/49.jpg" alt="user1" width="40" height="40" class="rounded-circle" />

                    </span>
                    <div class="ms-3 d-inline-block w-100">
                        <h6 class="mb-1 chat-title " data-username="James Anderson">Oliver Sørensen</h6>
                        <span class="fs-3 text-truncate  text-body-color d-block"></span>
                    </div>
                </div>

            </a>
        </li>
        <li>
            <a href="index?p=chat&id=26" class="px-4 py-3 bg-hover-light-black d-flex align-items-start justify-content-between chat-user  w-100" id="chat_user_26" data-user-id="26">
                <div class="d-flex align-items-center">
                    <span class="position-relative">
                        <img src="https://proloomtrading.com/app/assets/images/profile/male.jpg" alt="user1" width="40" height="40" class="rounded-circle" />

                    </span>
                    <div class="ms-3 d-inline-block w-100">
                        <h6 class="mb-1 chat-title " data-username="James Anderson">Nathan Fair</h6>
                        <span class="fs-3 text-truncate  text-body-color d-block"></span>
                    </div>
                </div>

            </a>
        </li>
        <li>
            <a href="index?p=chat&id=41" class="px-4 py-3 bg-hover-light-black d-flex align-items-start justify-content-between chat-user  w-100" id="chat_user_41" data-user-id="41">
                <div class="d-flex align-items-center">
                    <span class="position-relative">
                        <img src="https://randomuser.me/api/portraits/med/women/18.jpg" alt="user1" width="40" height="40" class="rounded-circle" />

                    </span>
                    <div class="ms-3 d-inline-block w-100">
                        <h6 class="mb-1 chat-title " data-username="James Anderson">Nastasija Lazović</h6>
                        <span class="fs-3 text-truncate  text-body-color d-block"></span>
                    </div>
                </div>

            </a>
        </li>
        <li>
            <a href="index?p=chat&id=13" class="px-4 py-3 bg-hover-light-black d-flex align-items-start justify-content-between chat-user  w-100" id="chat_user_13" data-user-id="13">
                <div class="d-flex align-items-center">
                    <span class="position-relative">
                        <img src="https://proloomtrading.com/app/assets/images/profile/female.jpg" alt="user1" width="40" height="40" class="rounded-circle" />

                    </span>
                    <div class="ms-3 d-inline-block w-100">
                        <h6 class="mb-1 chat-title " data-username="James Anderson">Adam sunday</h6>
                        <span class="fs-3 text-truncate  text-body-color d-block"></span>
                    </div>
                </div>

            </a>
        </li>
        <li>
            <a href="index?p=chat&id=30" class="px-4 py-3 bg-hover-light-black d-flex align-items-start justify-content-between chat-user  w-100" id="chat_user_30" data-user-id="30">
                <div class="d-flex align-items-center">
                    <span class="position-relative">
                        <img src="https://randomuser.me/api/portraits/med/men/27.jpg" alt="user1" width="40" height="40" class="rounded-circle" />

                    </span>
                    <div class="ms-3 d-inline-block w-100">
                        <h6 class="mb-1 chat-title " data-username="James Anderson">Jasin Rietbroek</h6>
                        <span class="fs-3 text-truncate  text-body-color d-block"></span>
                    </div>
                </div>

            </a>
        </li>
        <li>
            <a href="index?p=chat&id=1" class="px-4 py-3 bg-hover-light-black d-flex align-items-start justify-content-between chat-user  w-100" id="chat_user_1" data-user-id="1">
                <div class="d-flex align-items-center">
                    <span class="position-relative">
                        <img src="https://proloomtrading.com/app/assets/images/profile/default.jpg" alt="user1" width="40" height="40" class="rounded-circle" />

                    </span>
                    <div class="ms-3 d-inline-block w-100">
                        <h6 class="mb-1 chat-title " data-username="James Anderson">Proloomtrading</h6>
                        <span class="fs-3 text-truncate  text-body-color d-block">We apologize for the...</span>
                    </div>
                </div>

            </a>
        </li>
        <li>
            <a href="index?p=chat&id=45" class="px-4 py-3 bg-hover-light-black d-flex align-items-start justify-content-between chat-user  w-100" id="chat_user_45" data-user-id="45">
                <div class="d-flex align-items-center">
                    <span class="position-relative">
                        <img src="https://randomuser.me/api/portraits/med/men/45.jpg" alt="user1" width="40" height="40" class="rounded-circle" />

                    </span>
                    <div class="ms-3 d-inline-block w-100">
                        <h6 class="mb-1 chat-title " data-username="James Anderson">Bernd-Dieter Kügler</h6>
                        <span class="fs-3 text-truncate  text-body-color d-block"></span>
                    </div>
                </div>

            </a>
        </li>
    </ul>
</body>
<?= time(); ?>
</html>
<script src="dist/libs/jquery/dist/jquery.min.js"></script>
<script>

console.log(Math.floor(new Date().getTime() / 1000));

    function handleChatDisplay(displayID, content, type) {
        if (!document.getElementById(displayID)) {
            return null;
        }
        var display = document.getElementById(displayID);
        if (type === "first") {
            display.innerHTML = content;
            return null;
        }
        var chatHolder = createHiddenDiv("chatHolder");
        if (!chatHolder) {
            return null;
        }
        var chatHolder = document.querySelector("#chatHolder");
        chatHolder.innerHTML = content;
        const liElements = chatHolder.querySelectorAll("li");
        for (let i = 0; i < liElements.length; i++) {
            const liElement = liElements[i];
            // console.log();
            currentChatID = liElement.querySelector('a').id;
            if (document.getElementById(currentChatID)) {
                mainDiv = document.getElementById(displayID);
                removeElement = mainDiv.querySelector("#"+currentChatID);
                const parent = removeElement.parentNode;
                mainDiv.removeChild(parent);
            }
            mainDiv.insertAdjacentHTML("afterbegin", "<li>"+liElement.innerHTML+"</li>");
            // Do something with the `liElement` element.
        }
        disposeDiv(chatHolder)
    }

    function createHiddenDiv(divID) {
        const div = document.createElement('div');
        div.id = divID;
        div.style.display = 'none';
        document.body.appendChild(div);
        return true;
    }

    function disposeDiv(divID) {
        document.body.removeChild(divID)
    }
</script>